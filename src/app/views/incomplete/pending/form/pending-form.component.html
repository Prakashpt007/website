<div class="d-flex justify-content-between align-items-center stickyHeader" style="overflow: hidden;">
	<h5 class="m-0" style="display: flex;align-items: center;gap: 0.75rem;">
		<a [routerLink]="['/incomplete/pending/list']" [queryParams]="backUrlParams" style="font-size: 80%;color: inherit;"><i class="fa-solid fa-arrow-left"></i> </a>Back
	</h5>
</div>


<div style="max-height: calc(100svh - 172px);overflow: auto;">
	<div class="container">
		<div class="row" [@fade]>

			@if(allData!== undefined){
			<div class="col-12">
				@for (category of allData.sections; track $index) {
				<div class="card formCard mb-4" style="max-height:none;">
					<div class="card-header bg-body-secondary bg-gradient" style="position: relative;">
						<h6 class="m-0 d-flex gap-2 align-items-center">
							<strong>{{category.name}}</strong>
						</h6>
					</div>
					<div class="card-body p-0" style="min-height: auto;">
						<ul class="list-group">
							@for (screens of category.screens; track $index) {
							<li class="list-group-item" [ngClass]="screens.match" style="background-color: transparent;padding-inline: 1.5rem;">

								<div class="d-flex gap-3 justify-content-start align-items-center">
									@switch (screens.icon) {
									@case ('done') {
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 338.44 383.31">
										<g>
											<path d="m37.45,383.31c-4.32-1.46-8.9-2.43-12.93-4.48C8.69,370.78.11,357.7.09,339.9-.05,241.08.01,142.27.03,43.46.03,19.29,19.32.03,43.52.02,97.3,0,151.08,0,204.86.01c24.63,0,43.59,18.52,44.25,43.21.11,4.1.02,8.2.02,12.54h-22.78c0-3.31-.2-6.74.03-10.14.95-14.12-10.09-23.36-23.24-23.29-52.41.27-104.82.11-157.23.11-14.83,0-23.45,8.63-23.45,23.45,0,81.47,0,162.94,0,244.41,0,14.78,8.66,23.39,23.52,23.39,52.28,0,104.57-.17,156.85.12,13.14.07,24.63-8.83,23.55-23.76-.21-2.96-.03-5.94-.03-9.26h22.79c0,1.15,0,2.46,0,3.77,0,17.72.02,35.43,0,53.15-.03,23.32-13.43,39.87-36.35,44.97-.32.07-.59.41-.88.62H37.45Zm87.41-47.22c-5.73,0-11.47-.05-17.2.01-6.97.07-12.35,5.1-12.6,11.69-.27,6.92,4.65,12.77,11.69,12.95,11.96.3,23.94.28,35.9.02,7.1-.16,11.95-5.79,11.78-12.82-.16-6.72-5.36-11.75-12.37-11.83-5.73-.07-11.47-.01-17.2-.02Z" />
											<path style="fill: var(--bs-success) !important;" d="m236.94,269.91c-56.14-.1-101.48-45.53-101.45-101.64.03-56.32,45.59-101.75,101.86-101.58,56.17.16,101.25,45.81,101.08,102.38-.16,55.54-45.86,100.95-101.5,100.85Zm-15.28-94.78c-1.03-.97-1.94-1.79-2.81-2.65-5.75-5.72-11.42-11.52-17.24-17.17-5.29-5.13-11.62-6.65-18.62-4.33-13.01,4.3-16.72,20.3-6.95,30.34,10.18,10.46,20.61,20.68,30.94,31,9.61,9.6,19.74,9.59,29.36-.03,18.8-18.79,37.6-37.58,56.38-56.38,1.23-1.23,2.47-2.49,3.52-3.88,4.64-6.13,4.78-15.02.41-21.35-6.74-9.77-19.63-10.73-28.53-1.9-14.54,14.4-28.94,28.94-43.4,43.42-.95.95-1.95,1.86-3.06,2.93Z" />
										</g>
									</svg>
									}
									@case ('pending') {
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 338.44 383.31">
										<g>
											<path d="m37.45,383.31c-4.32-1.46-8.9-2.43-12.93-4.48C8.69,370.78.11,357.7.09,339.9-.05,241.08.01,142.27.03,43.46.03,19.29,19.32.03,43.52.02,97.3,0,151.08,0,204.86.01c24.63,0,43.59,18.52,44.25,43.21.11,4.1.02,8.2.02,12.54h-22.78c0-3.31-.2-6.74.03-10.14.95-14.12-10.09-23.36-23.24-23.29-52.41.27-104.82.11-157.23.11-14.83,0-23.45,8.63-23.45,23.45,0,81.47,0,162.94,0,244.41,0,14.78,8.66,23.39,23.52,23.39,52.28,0,104.57-.17,156.85.12,13.14.07,24.63-8.83,23.55-23.76-.21-2.96-.03-5.94-.03-9.26h22.79c0,1.15,0,2.46,0,3.77,0,17.72.02,35.43,0,53.15-.03,23.32-13.43,39.87-36.35,44.97-.32.07-.59.41-.88.62H37.45Zm87.41-47.22c-5.73,0-11.47-.05-17.2.01-6.97.07-12.35,5.1-12.6,11.69-.27,6.92,4.65,12.77,11.69,12.95,11.96.3,23.94.28,35.9.02,7.1-.16,11.95-5.79,11.78-12.82-.16-6.72-5.36-11.75-12.37-11.83-5.73-.07-11.47-.01-17.2-.02Z" />
											<path style="fill: var(--bs-danger) !important;" d="m237.36,66.68c-56.28-.16-101.83,45.27-101.86,101.58-.03,56.12,45.3,101.54,101.45,101.64,55.64.1,101.34-45.31,101.5-100.85.16-56.56-44.91-102.21-101.08-102.38Zm-20.35,32.67c0-9.48,7.68-17.16,17.16-17.16h3.95c9.48,0,17.16,7.68,17.16,17.16v77.06c0,9.48-7.68,17.16-17.16,17.16h-3.95c-9.48,0-17.16-7.68-17.16-17.16v-77.06Zm19.96,148.19c-11.02,0-19.96-8.93-19.96-19.96s8.93-19.96,19.96-19.96,19.96,8.93,19.96,19.96-8.93,19.96-19.96,19.96Z" />
										</g>
									</svg>
									}
									@case ('na') {
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 338.44 383.31">
										<g>
											<path d="m37.45,383.31c-4.32-1.46-8.9-2.43-12.93-4.48C8.69,370.78.11,357.7.09,339.9-.05,241.08.01,142.27.03,43.46.03,19.29,19.32.03,43.52.02,97.3,0,151.08,0,204.86.01c24.63,0,43.59,18.52,44.25,43.21.11,4.1.02,8.2.02,12.54h-22.78c0-3.31-.2-6.74.03-10.14.95-14.12-10.09-23.36-23.24-23.29-52.41.27-104.82.11-157.23.11-14.83,0-23.45,8.63-23.45,23.45,0,81.47,0,162.94,0,244.41,0,14.78,8.66,23.39,23.52,23.39,52.28,0,104.57-.17,156.85.12,13.14.07,24.63-8.83,23.55-23.76-.21-2.96-.03-5.94-.03-9.26h22.79c0,1.15,0,2.46,0,3.77,0,17.72.02,35.43,0,53.15-.03,23.32-13.43,39.87-36.35,44.97-.32.07-.59.41-.88.62H37.45Zm87.41-47.22c-5.73,0-11.47-.05-17.2.01-6.97.07-12.35,5.1-12.6,11.69-.27,6.92,4.65,12.77,11.69,12.95,11.96.3,23.94.28,35.9.02,7.1-.16,11.95-5.79,11.78-12.82-.16-6.72-5.36-11.75-12.37-11.83-5.73-.07-11.47-.01-17.2-.02Z" />
											<g style="fill: var(--bs-tertiary-color);">
												<path d="m206.82,210.43c8.5,6.09,18.89,9.72,30.14,9.72,28.64,0,51.85-23.21,51.85-51.85,0-11.26-3.63-21.64-9.72-30.14l-72.28,72.28Z" />
												<path d="m237.36,66.68c-56.28-.16-101.83,45.27-101.86,101.58-.03,56.12,45.3,101.54,101.45,101.64,55.64.1,101.34-45.31,101.5-100.85.16-56.56-44.91-102.21-101.08-102.38Zm-.39,171.23c-38.45,0-69.61-31.17-69.61-69.61s31.17-69.61,69.61-69.61,69.61,31.17,69.61,69.61-31.17,69.61-69.61,69.61Z" />
												<path d="m236.97,116.45c-28.64,0-51.85,23.21-51.85,51.85,0,11.26,3.63,21.64,9.72,30.14l72.28-72.28c-8.5-6.09-18.89-9.72-30.14-9.72Z" />
											</g>
										</g>
									</svg>
									}
									}

									<div class="label">{{screens.label}}</div>
								</div>
								@if (screens.match == 'stage-pending') {
								<div class="video-section">
									<h6>Share Video :</h6>
									@for (video of screens.videos; track video) {
									<div class="d-flex gap-2 align-items-center video-link" target="_blank">
										<i class="fa-brands fa-youtube"></i>
										<a role="button" [attr.data-id]="video.id" (click)="sendVideo(video.id, video.link, video.name)" class="video-title">{{video.name}}</a>
									</div>
									}
								</div>
								}

							</li>
							}
						</ul>
					</div>
				</div>
				}
			</div>
			}
		</div>
	</div>
</div>


<ng-template #sendVideoModal let-c="close" let-d="dismiss">
	<div class="modal-header text-white bg-gradient py-2" [class]="'bg-primary'" style="--bs-modal-header-padding: 0.5rem 1rem;">
		<h6 class="modal-title" id="modal-basic-title">Do you really want to send this video?</h6>
		<button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
	</div>
	<div class="modal-body">
		<div [innerHTML]="modalConfirmationMessage"></div>
	</div>
	<div class="modal-footer d-flex justify-content-between">
		<button type="button" class="btn btn-sm bg-gradient" [class]="'btn-primary'" (click)="c('send')">Yes, Confirm!</button>
		<button type="button" class="btn btn-sm btn-secondary bg-gradient" (click)="d('Cancel click')">Cancel</button>
	</div>
</ng-template>