<div class="container-fluid p-0">
	<div class="row">
		@if (userDetails!= undefined) {

		<div class="col-12 col-lg-auto mb-3" style="min-width: 20rem;max-width: 100%;">
			<mat-tab-group dynamicHeight [backgroundColor]="background" mat-stretch-tabs="true" mat-align-tabs="start">
				<mat-tab>
					<ng-template mat-tab-label>
						<i class="fa-solid fa-user me-2"></i> User
					</ng-template>
					<div class="thumbnail-section" style="width: 100%;height: 12.5rem;position: relative; margin-bottom: 1.25rem;">

						@if (userImageThumbnail) {

						<img (click)="thumbnailViewEvent(userDetails.photo)" [src]="userDetails.photo" />

						} @else if(!userImageThumbnail) {

						<img [title]="'Thumbnail Not Found'" [src]="userDetails.photo" />

						} @else {

						}

					</div>


					@if (userDetails.mobileNo.length > 0) {

					<a [href]="'tel:'+userDetails.mobileNo" class="userCardDetails mb-3 d-flex gap-2 align-items-center" style="text-decoration: none; color: inherit; font-size: 1.2rem;" target="_blank">
						<span style="width: 1.5625rem; text-align: center;">
							<i class="fa-solid fa-phone"></i>
						</span>
						<div>{{userDetails.mobileNo}}</div>
					</a>

					}

					@if (userDetails.email.length > 0) {

					<a [href]="'mailto:'+userDetails.email" class="userCardDetails mb-3 d-flex gap-2 align-items-center" style="text-decoration: none; color: inherit; font-size: 1.2rem;" target="_blank">
						<span style="width: 1.5625rem; text-align: center;">
							<i class="fa-solid fa-envelope"></i>
						</span>
						<div>{{userDetails.email}}</div>
					</a>

					}

					@if (userDetails.language.length > 0) {

					<div class="userCardDetails d-flex gap-2 align-items-center" style="text-decoration: none; color: inherit; font-size: 1.2rem;" target="_blank">
						<span style="width: 1.5625rem; text-align: center;">
							<i class="fa-solid fa-language"></i>
						</span>
						<div>{{userDetails.language}}</div>
					</div>

					}

				</mat-tab>
			</mat-tab-group>
		</div>

		}



		<div class="col-12 col-lg mb-3">
			<mat-tab-group dynamicHeight [backgroundColor]="background" mat-stretch-tabs="true" mat-align-tabs="start" #tabGroup (selectedTabChange)="tabChanged($event)">
				<mat-tab>
					<ng-template mat-tab-label>
						<i class="fa-solid fa-address-card me-2"></i> KYC Details

						<!-- <i class="fa-solid fa-address-card"></i> -->
					</ng-template>
					@if (userDetails && userDetails.kycDetails) {

					<table class="table table-bordered m-0">
						<tbody>
							<tr>
								<td>Name&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userDetails.kycDetails.name)"></td>
							</tr>
							<tr>
								<td>Address&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userDetails.kycDetails.address)"></td>
							</tr>
							<tr>
								<td>Aadhaar&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userDetails.kycDetails.aadhaar)"></td>
							</tr>
							<tr>
								<td>PAN&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userDetails.kycDetails.pan)"></td>
							</tr>
						</tbody>
					</table>

					}

				</mat-tab>

				<mat-tab>
					<ng-template mat-tab-label>
						<i class="fa-solid fa-building-columns me-2"></i> Bank Details
					</ng-template>

					@if (userBankDetails) {

					<table class="table table-bordered m-0">
						<tbody>
							<tr>
								<td>Account Name&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userBankDetails.acName)"></td>
							</tr>
							<tr>
								<td>Ac No.&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userBankDetails.acNumber)"></td>
							</tr>
							<tr>
								<td>Bank Name&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userBankDetails.bankName)"></td>
							</tr>
							<tr>
								<td>Branch&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userBankDetails.bankBranch)"></td>
							</tr>
							<tr>
								<td>IFSC&nbsp;:</td>
								<td [innerHTML]="checkValueExitsOrNot(userBankDetails.bankIfsc)"></td>
							</tr>
						</tbody>
					</table>

					}

				</mat-tab>


				<!-- <mat-tab [disabled]="!userDetails?.kycDetails.status"> -->
				<mat-tab>
					<ng-template mat-tab-label>
						<i class="fa-solid fa-briefcase me-2"></i> Employment Details
						<!-- <i class="fa-regular fa-circle-question ms-2" style="color: red;"></i> -->
					</ng-template>

					@if (showFormBuilder) {

					<app-raw-formbuilder [backUrl]="backUrl" [componentData]="componentData" [formErrorData]="formErrorData" [formActivity]="formActivity" (formBuilderSubmit)="getFormValuesFromBuilder($event)"></app-raw-formbuilder>

					}

				</mat-tab>
				<!-- <mat-tab disabled>
                    <ng-template mat-tab-label>
                        <mat-icon class="example-tab-icon me-2">thumb_up</mat-icon>
                        Fourth
                    </ng-template>
                    Content 4
                </mat-tab> -->
			</mat-tab-group>
		</div>
	</div>
</div>


<ng-template #thumbnailModal let-c="close" let-d="dismiss">
	<div class="modal-body p-0">
		<img [src]="thumbnailModalSrc" style="display: block; margin: 0 auto; max-width: 100%;" />
	</div>
</ng-template>